!function(t){"use strict";String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var e=function(t){return this instanceof e?(this.defaults={imgSrc:"",delay:null,width:null,height:null,color:"#fff",opacity:null,trigger:!0,fontSize:null,maskShow:!0,borderRadius:null,textAlign:"center",backgroundColor:"",message:"在这里填写您的信息",btnArr:[{color:"",text:"取消",width:null,height:null,callback:null,fontSize:null,borderRadius:null,backgroundColor:""},{color:"",text:"确定",width:null,height:null,fontSize:null,callback:null,borderRadius:null,backgroundColor:""}]},this.opts=this._extend(this.defaults,t),void this.init()):new e(t)};e.prototype={init:function(){this.dialogMask=this.createDom("div"),this.dialogBox=this.createDom("div"),this.dialogContent=this.createDom("p"),this.dialogImg=this.createDom("img"),this.dialogBtnsBox=this.createDom("div"),this.dialogMask.className="dialog-mask",this.dialogBox.className="dialog-box",this.eventType="pc"===this.judgePlatform()?"click":"touchstart",this.isSupportFlex=this._prefix("flex")||this._prefix("box")||this._prefix("flexbox"),this.ua=navigator.userAgent.toLowerCase(),window.ActiveXObject&&(this.ieVersion=parseInt(this.ua.match(/msie ([\d.]+)/)[1])),this.ieVersion<9&&(this.opts.maskShow=!1,alert("您的浏览器版本过低，建议您下载并使用最新的chrome浏览器！"));var t=this,e=t.opts,o=t.dialogBox,n=t.dialogImg,i=(t.dialogMask,this.dialogContent),l=t.judgePlatform(),s="string"==typeof e.imgSrc?e.imgSrc:"",r="object"==typeof e.btnArr?e.btnArr:null,a="string"==typeof e.message?e.message:"";""!==s.trim()&&(n.src=s,n.className="dialog-img",o.appendChild(n)),""!==a.trim()&&(i.innerHTML=a,i.className="dialog-content",o.appendChild(i),t.setDialogContent(i)),null!==r&&r.length>=1&&t.createButtons(o,r),"pc"===l&&t._addClass(o,"dialog-box-pc"),t.setAttribute()},setAttribute:function(){var e=this,o=e.opts,n=e.dialogBox,i=e.eventType,l=e.dialogMask,s="number"==typeof o.opacity?o.opacity:null,r="boolean"!=typeof o.trigger||o.trigger,a="boolean"!=typeof o.maskShow||o.maskShow,d="number"==typeof o.delay&&o.delay>=0?o.delay:null,u="string"==typeof o.backgroundColor?o.backgroundColor:"",c="number"==typeof o.width&&o.width>=0?parseInt(o.width):null,p="number"==typeof o.height&&o.height>=0?parseInt(o.height):null,f="number"==typeof o.borderRadius&&o.borderRadius>=0?parseInt(o.borderRadius):null;e._on(n,e.eventType,function(t){t=t||window.event,t.stopPropagation?(t.stopPropagation(),t.preventDefault()):(t.cancelBubble=!0,t.returnValue=!1)}),null!==c&&e._css(n,"width",c+"px"),null!==p&&e._css(n,"height",p+"px"),null!==f&&e._css(n,"borderRadius",f+"px"),""!==u.trim()&&e._css(n,"backgroundColor",u),s&&s>=0&&s<=1&&e._css(l,"backgroundColor","rgba(0, 0, 0, "+s+")"),null!==d&&setTimeout(function(){e._close()},d),r&&e._on(l,i,function(){e._close()}),a?(l.appendChild(n),t.appendChild(l)):(e._addClass(n,"dialog-box-no-mask dialog-box-no-flex"),t.appendChild(n)),e.setDialogBoxCenter()},setDialogBoxCenter:function(){var t=this,e=t.ieVersion,o=t.dialogBox,n=t.dialogImg,i=t.dialogMask,l="boolean"!=typeof t.opts.maskShow||t.opts.maskShow;if(l&&!t.isSupportFlex)t._addClass(i,"dialog-mask-no-flex");else if(l&&t.isSupportFlex)return;var s=function(){var e=o.offsetWidth,n=o.offsetHeight,i=-(n/2)+"px",l=-(e/2)+"px";t._css(o,{marginLeft:l,marginTop:i})};n?(n.onload=s,e&&e<=8&&(n.src=t.opts.imgSrc)):s()},setDialogContent:function(t){var e=this,o="string"==typeof e.opts.color?e.opts.color:"#fff",n="number"==typeof e.opts.fontSize&&e.opts.fontSize>=0?parseInt(e.opts.fontSize):null,i="string"==typeof e.opts.textAlign?e.opts.textAlign:"center";"#fff"!==o.trim()&&e._css(t,"color",o),null!==n&&e._css(t,"fontSize",n+"px"),"center"!==i.trim()&&e._css(t,"textAlign",i)},createDom:function(t){return document.createElement(t)},_close:function(){var t=this.dialogMask;t.parentNode.removeChild(t)},createButtons:function(t,e){var o=this,e=e,t=(o.opts,t),n=e.length,i=o.dialogBtnsBox,l=null,s=null,r="",a=null,d=null,u="",c=null,p=o.eventType;i.className="dialog-btns-box",1===n?o._addClass(i,"dialog-btns-box-1"):n>=3&&(e=e.slice(0,3),n=e.length,o._addClass(i,"dialog-btns-box-3"));for(var f=0;f<n;f++){u="string"==typeof e[f].color?e[f].color:"",c="function"==typeof e[f].callback?e[f].callback:null,r="string"==typeof e[f].backgroundColor?e[f].backgroundColor:"",l="number"==typeof e[f].width&&e[f].width>=0?parseInt(e[f].width):null,s="number"==typeof e[f].height&&e[f].height>=0?parseInt(e[f].height):null,a="number"==typeof e[f].fontSize&&e[f].fontSize>=0?parseInt(e[f].fontSize):null,d="number"==typeof e[f].borderRadius&&e[f].borderRadius>=0?parseInt(e[f].borderRadius):null;var g=document.createElement("span");g.className="dialog-btn"+(f+1),g.innerHTML=e[f].text,i.appendChild(g),null!==l&&o._css(g,"width",l+"px"),null!==s&&o._css(g,{height:s+"px",lineHeight:s+"px"}),null!==a&&o._css(g,"fontSize",a+"px"),null!==d&&o._css(g,"borderRadius",d+"px"),""!==r.trim()&&o._css(g,"backgroundColor",r),""!==u.trim()&&o._css(g,"color",u),"function"==typeof c&&o._on(g,p,c)}t.appendChild(i)},_prefix:function(t){var e=document.createElement("dummy").style,o=["webkit","moz","o","ms"],n="",t=t;if(void 0!==e[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i in o)if(n=o[i].toLowerCase()+t,void 0!==e[n])return n;return!1},_css:function(t,e,o){var n=this,i="";if(null!==e&&"object"==typeof e)for(var l in e)i=n._prefix(l),t.style[l]=e[l];else void 0!==o&&(i=n._prefix(e),t.style[e]=o)},_addClass:function(t,e){var e="string"==typeof e?e:"";if(""!==e){e=e.split(" ");for(var o in e)t.className+=" "+e[o]}},_extend:function(t,e){var o,n,i,l,s=t||{},e=e||{};if("object"!=typeof s&&"function"!=typeof s&&(s={}),null!==e)for(var r in e)n=s[r],i=e[r],s!==i&&(l=!i||"object"!=typeof i,l&&i&&"object"==typeof i?(o=i instanceof Array?n&&n instanceof Array?n:[]:n&&n instanceof Object?n:{},s[r]=_extend(o,i)):void 0!==i&&(s[r]=i));return s},_on:function(t,e,o){o&&"function"==typeof o&&(document.addEventListener?t.addEventListener(e,o,!1):document.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o)},judgePlatform:function(){for(var t=navigator.userAgent.toLowerCase(),e=["android","iphone","symbianos","windows phone","ipad","ipod"],o="",n=0;n<e.length;n++){if(t.indexOf(e[n])>0){o="mobile";break}o="pc"}return o}},window.Dialog=e}(document.body);
//# sourceMappingURL=maps/dialog.min.js.map
